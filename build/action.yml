name: Java CI with Maven or Gradle


inputs:
  build-tool:
    description: 'Specify the build tool (Maven or Gradle)'
    required: true
    default: 'maven'
    validation-pattern: '^(maven|Gradle)$'  # Only allow 'Maven' or 'Gradle' as values
runs:
  using: "composite"
  steps:
    - uses: actions/checkout@v3
    - name: Set up JDK 11
      uses: actions/setup-java@v3
      with:
        java-version: '11'
        distribution: 'temurin'
        cache: maven
    - name: Build with Maven or Gradle
      shell: bash
      run: |
        if [ ${{ inputs.build-tool }} == 'maven' ]; then
          mvn -B package --file pom.xml
        elif [ ${{ inputs.build-tool }} == 'Gradle' ]; then
          ./gradlew build
        else
          echo "Invalid build tool specified. Please use 'Maven' or 'Gradle'."
          exit 1
        fi

